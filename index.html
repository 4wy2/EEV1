<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ูุธุงู ุงูุชูุงุนู ุงูุทูุงุจู | EE Club</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body { font-family: 'Cairo', sans-serif; background: #02040a; color: #e2e8f0; -webkit-tap-highlight-color: transparent; overflow-x: hidden; }
        .glass-panel { background: rgba(15, 23, 42, 0.7); backdrop-filter: blur(16px); border: 1px solid rgba(255, 255, 255, 0.05); }
        .accent-gradient { background: linear-gradient(135deg, #3b82f6 0%, #6366f1 100%); }
        .text-brand { background: linear-gradient(135deg, #60a5fa 0%, #a5b4fc 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .tab-content { display: none; }
        .tab-content.active { display: block; animation: fadeIn 0.3s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(8px); } to { opacity: 1; transform: translateY(0); } }
        .nav-btn.active { color: #6366f1; background: rgba(99, 102, 241, 0.1); border-radius: 16px; transform: scale(1.05); }
        .track-tag { font-size: 10px; padding: 2px 8px; border-radius: 6px; background: rgba(99, 102, 241, 0.1); color: #818cf8; border: 1px solid rgba(99, 102, 241, 0.2); font-weight: bold; }
        input, select { font-size: 16px !important; }
    </style>
</head>
<body class="min-h-screen pb-32">

    <nav class="fixed bottom-6 left-1/2 -translate-x-1/2 z-50 w-[92%] max-w-lg glass-panel rounded-2xl p-2 flex justify-around shadow-2xl border-white/10">
        <button onclick="showTab('my-pulse')" class="tab-btn nav-btn p-3 flex-1 transition-all active" data-tab="my-pulse">
            <i class="fa-solid fa-id-card-stroke text-xl"></i>
            <span class="block text-[10px] mt-1 font-bold">ููุงุทู</span>
        </button>
        <button onclick="showTab('leaderboard')" class="tab-btn nav-btn p-3 flex-1 transition-all opacity-40" data-tab="leaderboard">
            <i class="fa-solid fa-ranking-star text-xl"></i>
            <span class="block text-[10px] mt-1 font-bold">ุงููุฑุงูุฒ</span>
        </button>
        <button onclick="showTab('rules')" class="tab-btn nav-btn p-3 flex-1 transition-all opacity-40" data-tab="rules">
            <i class="fa-solid fa-circle-info text-xl"></i>
            <span class="block text-[10px] mt-1 font-bold">ุงููุนุงููุฑ</span>
        </button>
        <button onclick="showTab('admin')" class="tab-btn nav-btn p-3 flex-1 transition-all opacity-40" data-tab="admin">
            <i class="fa-solid fa-user-gear text-xl"></i>
            <span class="block text-[10px] mt-1 font-bold">ุงูุฅุฏุงุฑุฉ</span>
        </button>
    </nav>

    <main class="max-w-4xl mx-auto pt-8 px-4 sm:px-6">
        
        <section id="my-pulse" class="tab-content active">
            <div class="text-center mb-8">
                <h1 class="text-2xl sm:text-3xl font-black mb-1 italic tracking-tight uppercase">ูุธุงู <span class="text-brand">ุงูุชูุงุนู ุงูุทูุงุจู</span></h1>
                <p class="text-indigo-400/40 text-[9px] uppercase tracking-[0.3em] font-bold">ูุงุฏู ุงูููุฏุณุฉ ุงูููุฑุจุงุฆูุฉ | EE CLUB</p>
            </div>

            <div class="glass-panel rounded-3xl p-6 mb-6 border-white/5 shadow-xl">
                <div class="flex flex-col sm:flex-row gap-3">
                    <input type="number" id="academicIdInput" placeholder="ุฃุฏุฎู ุฑููู ุงูุฃูุงุฏููู..." 
                           class="flex-1 bg-black/40 border border-white/10 rounded-xl px-5 py-4 outline-none focus:border-indigo-500 transition-all font-mono text-center sm:text-right">
                    <button onclick="searchStudent()" class="accent-gradient px-8 py-4 rounded-xl font-black text-white hover:brightness-110 active:scale-95 transition-all shadow-lg shadow-blue-500/20">ุชุญููู ุงูุจูุงูุงุช</button>
                </div>
            </div>

            <div id="studentCard" class="hidden"></div>
            <div id="emptyState" class="text-center py-16 opacity-10 italic">
                <i class="fa-solid fa-bolt-lightning text-5xl mb-4"></i>
                <p class="text-xs font-bold tracking-widest uppercase italic">ุจุงูุชุธุงุฑ ุฅุฏุฎุงู ุงููููุฉ ุงูุฃูุงุฏูููุฉ</p>
            </div>
        </section>

        <section id="leaderboard" class="tab-content">
            <div class="text-center mb-8">
                <h2 class="text-xl font-black text-brand italic">ููุญุฉ ุงูุดุฑู</h2>
                <p class="text-[10px] text-white/30 mt-1 uppercase tracking-widest italic font-bold">ุงูุชุตููู ุงูุญุงูู ููุฃุนุถุงุก</p>
            </div>
            <div id="topThree" class="grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6 items-end"></div>
            <div class="glass-panel rounded-2xl overflow-hidden border-white/5" id="fullList"></div>
        </section>

        <section id="rules" class="tab-content">
            <h2 class="text-xl font-black mb-6 italic border-r-4 border-indigo-500 pr-4">ุชูุงุตูู ุงุญุชุณุงุจ ุงูููุงุท</h2>
            <div class="grid grid-cols-1 gap-4 mb-8">
                <div class="glass-panel p-5 rounded-2xl border-r-4 border-blue-500">
                    <div class="flex justify-between items-center mb-4">
                        <span class="text-blue-400 font-black text-sm italic">๐ต ูุณุงุฑ ุงูุญุถูุฑ (Participation)</span>
                        <span class="text-[10px] opacity-40 font-bold">ุซุจุงุช ูุงุณุชูุฑุงุฑูุฉ</span>
                    </div>
                    <div class="space-y-3">
                        <div class="flex justify-between text-[11px] border-b border-white/5 pb-2"><span>ุญุถูุฑ ููุงุก ุชุนุฑููู ุฃู ุนุงู</span><span class="font-black text-blue-400">+1</span></div>
                        <div class="flex justify-between text-[11px] border-b border-white/5 pb-2"><span>ุญุถูุฑ ูุฑุดุฉ ุนูู ุชุฎุตุตูุฉ</span><span class="font-black text-blue-400">+2</span></div>
                        <div class="flex justify-between text-[11px]"><span>ุงููุดุงุฑูุฉ ูู ุฏูุฑุฉ ุชุฏุฑูุจูุฉ ููุซูุฉ</span><span class="font-black text-blue-400">+2</span></div>
                    </div>
                </div>
                <div class="glass-panel p-5 rounded-2xl border-r-4 border-indigo-500">
                    <div class="flex justify-between items-center mb-4">
                        <span class="text-indigo-400 font-black text-sm italic">๐ฃ ูุณุงุฑ ุงูุชูุธูู (Operational)</span>
                        <span class="text-[10px] opacity-40 font-bold">ุฌูุฏ ููุฏุงูู</span>
                    </div>
                    <div class="space-y-3">
                        <div class="flex justify-between text-[11px] border-b border-white/5 pb-2"><span>ุนุถู ูู ูุฌูุฉ ุชูุธูููุฉ</span><span class="font-black text-indigo-400">+3</span></div>
                        <div class="flex justify-between text-[11px] border-b border-white/5 pb-2"><span>ูุณุคูู ุนู ูููุฉ ูุญุฏุฏุฉ</span><span class="font-black text-indigo-400">+4</span></div>
                        <div class="flex justify-between text-[11px]"><span>ุฑุฆูุณ ูุฌูุฉ ุฃู ููุณู ูุจุงุฏุฑุฉ</span><span class="font-black text-indigo-400">+5</span></div>
                    </div>
                </div>
                <div class="glass-panel p-5 rounded-2xl border-r-4 border-purple-500">
                    <div class="flex justify-between items-center mb-4">
                        <span class="text-purple-400 font-black text-sm italic">๐ด ูุณุงุฑ ุงููุณุงููุฉ ุงููุนุฑููุฉ (Knowledge)</span>
                        <span class="text-[10px] opacity-40 font-bold">ุฃุซุฑ ุนููู</span>
                    </div>
                    <div class="space-y-3">
                        <div class="flex justify-between text-[11px] border-b border-white/5 pb-2"><span>ุฅุนุฏุงุฏ ููุฎุต ุนููู ูุนุชูุฏ</span><span class="font-black text-purple-400">+3</span></div>
                        <div class="flex justify-between text-[11px] border-b border-white/5 pb-2"><span>ุฅุนุฏุงุฏ ูุงุฏุฉ ุนุฑุถ ุฃู ูุญุชูู ูููุงุฏู</span><span class="font-black text-purple-400">+4</span></div>
                        <div class="flex justify-between text-[11px]"><span>ุชูุฏูู ุดุฑุญ ุฃู ูุฑุดุฉ ุนูู ููุฒููุงุก</span><span class="font-black text-purple-400">+7</span></div>
                    </div>
                </div>
            </div>
            
            <div class="p-4 rounded-xl bg-amber-500/10 border border-amber-500/20 text-center">
                <p class="text-[10px] text-amber-200/70 font-bold leading-relaxed">
                    ๐จ <span class="underline">ุดุฑุท ุงูุชููุฒ:</span>  ูุชู ุงุญุชุณุงุจ ุงูููุงุท ุจูุงุกู ุนูู ุงูุฃุฏุงุก ุงููุนูู ูุงููุดุงุฑูุฉ ุงููุณุชูุฑุฉ ูู ุฃูุดุทุฉ ุงููุงุฏู..
                </p>
            </div>
        </section>

        <section id="admin" class="tab-content">
            <h2 class="text-xl font-black mb-6 text-red-500 italic uppercase border-r-4 border-red-500 pr-4 italic">Injection Panel</h2>
            <div class="glass-panel p-6 rounded-2xl border-red-500/10 shadow-2xl">
                <div class="space-y-4">
                    <select id="adminIdSelect" class="w-full bg-black/40 border border-white/10 rounded-xl px-4 py-4 outline-none text-xs text-white"></select>
                    <div class="grid grid-cols-2 gap-3">
                        <select id="adminCat" class="bg-indigo-950/40 border border-white/10 rounded-xl px-3 py-4 outline-none text-[11px] font-bold text-white">
                            <option value="ุงูุญุถูุฑ">ูุณุงุฑ ุงูุญุถูุฑ</option>
                            <option value="ุงูุชูุธูู">ูุณุงุฑ ุงูุชูุธูู</option>
                            <option value="ุนููู">ูุณุงุฑ ุงูุนููู</option>
                        </select>
                        <input type="number" id="adminPoints" placeholder="ุงูููุงุท" class="bg-black/40 border border-white/10 rounded-xl px-4 py-4 outline-none font-bold text-center text-white">
                    </div>
                    <input type="text" id="adminAction" placeholder="ูุตู ุงููุดุงุท..." class="w-full bg-black/40 border border-white/10 rounded-xl px-4 py-4 outline-none text-xs text-white">
                    <button onclick="addPointsAdmin()" class="w-full py-4 accent-gradient text-white font-black rounded-xl hover:scale-[1.01] active:scale-95 transition-all text-xs uppercase tracking-widest shadow-xl">ุชุฃููุฏ ุญูู ุงูููุงุท</button>
                </div>
            </div>
        </section>
    </main>

    <script>
        // ุงูุจูุงูุงุช ุงูุญููููุฉ ุงููุญููุธุฉ
        let studentsData = [
            { id: "451401048", name: "ูุญูุฏ ุงูุนุฑุจู (ุฑุฆูุณ ุงููุฌูุฉ)", xp: 0, tracks: [], history: [] },
            { id: "451400496", name: "ูุงุฑุณ ุงูุญุฑุจู (ุงููุงุฆุจ)", xp: 0, tracks: [], history: [] },
            { id: "461400416", name: "ููุฏ ูุญูุฏ ุงูุฌููู", xp: 0, tracks: [], history: [] },
            { id: "451401142", name: "ุนุจุฏ ุงููุฌูุฏ ูุญูุฏ ุงูุบูุงุฑู", xp: 0, tracks: [], history: [] },
            { id: "441400790", name: "ูุนุงุฐ ุตุงูุญ ุงููููููู", xp: 0, tracks: [], history: [] },
            { id: "461400847", name: "ุงูุณ ูุญูุฏ ุงูุบุงูุฏู", xp: 0, tracks: [], history: [] },
            { id: "451401196", name: "ุนุจุฏ ุงูุฑุญูู ุงูุณูุฏ", xp: 0, tracks: [], history: [] }
        ];

        window.onload = () => {
            const select = document.getElementById('adminIdSelect');
            studentsData.forEach(s => {
                select.innerHTML += `<option value="${s.id}">${s.name}</option>`;
            });
        };

        function showTab(tabId) {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-btn').forEach(b => {
                b.classList.remove('active');
                b.classList.add('opacity-40');
            });
            document.getElementById(tabId).classList.add('active');
            const activeBtn = document.querySelector(`[data-tab="${tabId}"]`);
            activeBtn.classList.add('active');
            activeBtn.classList.remove('opacity-40');
            if(tabId === 'leaderboard') renderLeaderboard();
        }

        function searchStudent() {
            const id = document.getElementById('academicIdInput').value;
            const s = studentsData.find(x => x.id === id);
            const card = document.getElementById('studentCard');
            const empty = document.getElementById('emptyState');

            if(s) {
                empty.classList.add('hidden');
                card.classList.remove('hidden');
                const isEligible = s.tracks.length >= 2;
                
                card.innerHTML = `
                    <div class="glass-panel rounded-3xl p-6 sm:p-8 border-indigo-500/20 shadow-2xl">
                        <div class="flex flex-col sm:flex-row justify-between sm:items-start gap-4 mb-6">
                            <div class="text-right">
                                <h3 class="text-xl font-black mb-1">${s.name}</h3>
                                <p class="text-[9px] opacity-30 mb-4 font-mono">ID: ${s.id}</p>
                                <div class="flex flex-wrap gap-2 mb-3">
                                    ${s.tracks.length ? s.tracks.map(t => `<span class="track-tag">${t}</span>`).join('') : '<span class="text-[9px] opacity-20 italic">ูุง ูุณุงุฑุงุช ูุณุฌูุฉ</span>'}
                                </div>
                                <div class="inline-flex items-center px-3 py-1 rounded-full ${isEligible ? 'bg-green-500/10 text-green-400' : 'bg-amber-500/10 text-amber-400'} text-[9px] font-bold">
                                    ${isEligible ? 'โ ูุณุชููู ูุดุฑุท ุงูุชููุน' : 'โ๏ธ ุจุญุงุฌุฉ ููุชูููุน ูู ุงููุดุงุฑูุงุช'}
                                </div>
                            </div>
                            <div class="bg-indigo-500/5 p-5 rounded-2xl text-center min-w-[110px] border border-indigo-500/10">
                                <span class="text-5xl font-black text-brand italic leading-none">${s.xp}</span>
                                <span class="block text-[8px] font-bold opacity-30 mt-2 uppercase tracking-tighter">Total XP</span>
                            </div>
                        </div>
                        <div class="border-t border-white/5 pt-5 mt-2">
                            <h4 class="text-[10px] font-black uppercase opacity-30 mb-4 tracking-widest italic">ุณุฌู ุงูุนูููุงุช ุงูุฃุฎูุฑ</h4>
                            <div class="space-y-3">
                                ${s.history.length ? s.history.map(h => `<div class="bg-white/[0.02] p-4 rounded-xl text-[10px] font-bold border border-white/5 text-white/80">${h}</div>`).join('') : '<p class="text-[10px] opacity-20 italic">ูุง ููุฌุฏ ูุดุงุท ูุณุฌู ุญุงููุงู.</p>'}
                            </div>
                        </div>
                    </div>
                `;
            } else { alert("ุนุฐุฑุงูุ ุงูุฑูู ุงูุฃูุงุฏููู ุบูุฑ ูุณุฌู."); }
        }

        function renderLeaderboard() {
            const sorted = [...studentsData].sort((a,b) => b.xp - a.xp);
            const top3 = sorted.slice(0, 3);
            const others = sorted.slice(3);

            document.getElementById('topThree').innerHTML = top3.map((s, i) => `
                <div class="glass-panel p-6 rounded-3xl text-center relative border-white/5 ${i === 0 ? 'sm:scale-110 border-indigo-500/30 bg-indigo-500/5 order-2' : i === 1 ? 'order-1' : 'order-3'}">
                    <div class="w-8 h-8 bg-white/5 rounded-lg flex items-center justify-center mx-auto mb-3 font-black text-[10px] text-indigo-400 italic">#0${i+1}</div>
                    <div class="font-bold text-[11px] truncate mb-1">${s.name}</div>
                    <div class="text-brand font-black text-xl italic">${s.xp} XP</div>
                </div>
            `).join('');

            document.getElementById('fullList').innerHTML = others.map((s, i) => `
                <div class="flex items-center justify-between p-4 border-b border-white/5 hover:bg-white/[0.02]">
                    <div class="flex items-center gap-4">
                        <span class="text-[9px] font-black opacity-10 italic">#${i+4}</span>
                        <span class="font-bold text-[11px] opacity-80 truncate max-w-[140px]">${s.name}</span>
                    </div>
                    <span class="font-black text-[11px] text-indigo-400 italic font-mono">${s.xp} XP</span>
                </div>
            `).join('');
        }

        function addPointsAdmin() {
            const id = document.getElementById('adminIdSelect').value;
            const cat = document.getElementById('adminCat').value;
            const pts = parseInt(document.getElementById('adminPoints').value);
            const action = document.getElementById('adminAction').value;
            const s = studentsData.find(x => x.id === id);

            if(s && pts && action) {
                s.xp += pts;
                if(!s.tracks.includes(cat)) s.tracks.push(cat);
                s.history.unshift(`${action} (+${pts} - ${cat})`);
                alert(`ุชู ุชุญุฏูุซ ุจูุงูุงุช ${s.name} ุจูุฌุงุญ!`);
                document.getElementById('adminPoints').value = "";
                document.getElementById('adminAction').value = "";
            } else { alert("ูุฑุฌู ุฅุฏุฎุงู ูุงูุฉ ุงูุชูุงุตูู."); }
        }
    </script>
</body>
</html>
