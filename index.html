<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù†Ø¸Ø§Ù… Ø§Ù„Ù†Ø¨Ø¶ | EE Pulse System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body { font-family: 'Cairo', sans-serif; background: #02040a; color: #e2e8f0; }
        .glass-panel { background: rgba(15, 23, 42, 0.7); backdrop-filter: blur(16px); border: 1px solid rgba(99, 102, 241, 0.1); }
        .accent-gradient { background: linear-gradient(135deg, #3b82f6 0%, #6366f1 100%); }
        .text-brand { background: linear-gradient(135deg, #60a5fa 0%, #a5b4fc 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .tab-content { display: none; }
        .tab-content.active { display: block; animation: fadeIn 0.4s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .nav-btn.active { color: #6366f1; background: rgba(99, 102, 241, 0.1); border-radius: 12px; }
        .track-tag { font-size: 9px; padding: 2px 6px; border-radius: 4px; background: rgba(99, 102, 241, 0.1); color: #818cf8; border: 1px solid rgba(99, 102, 241, 0.2); font-weight: bold; }
    </style>
</head>
<body class="min-h-screen pb-24">

    <nav class="fixed bottom-6 left-1/2 -translate-x-1/2 z-50 w-[95%] max-w-lg glass-panel rounded-2xl p-2 flex justify-around shadow-2xl border-white/5">
        <button onclick="showTab('my-pulse')" class="tab-btn nav-btn p-3 transition-all active" data-tab="my-pulse">
            <i class="fa-solid fa-bolt text-xl"></i>
            <span class="block text-[10px] mt-1 font-bold">Ù†Ù‚Ø§Ø·ÙŠ</span>
        </button>
        <button onclick="showTab('leaderboard')" class="tab-btn nav-btn p-3 transition-all opacity-40" data-tab="leaderboard">
            <i class="fa-solid fa-ranking-star text-xl"></i>
            <span class="block text-[10px] mt-1 font-bold">Ø§Ù„Ù…Ø±Ø§ÙƒØ²</span>
        </button>
        <button onclick="showTab('rules')" class="tab-btn nav-btn p-3 transition-all opacity-40" data-tab="rules">
            <i class="fa-solid fa-scroll text-xl"></i>
            <span class="block text-[10px] mt-1 font-bold">Ø§Ù„Ù…Ø¹Ø§ÙŠÙŠØ±</span>
        </button>
        <button onclick="showTab('admin')" class="tab-btn nav-btn p-3 transition-all opacity-40" data-tab="admin">
            <i class="fa-solid fa-user-shield text-xl"></i>
            <span class="block text-[10px] mt-1 font-bold">Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</span>
        </button>
    </nav>

    <main class="max-w-4xl mx-auto pt-10 px-6">
        
        <section id="my-pulse" class="tab-content active">
            <div class="text-center mb-10">
                <h1 class="text-3xl font-black mb-2 italic tracking-tight">Ù†Ø¸Ø§Ù… <span class="text-brand">Ø§Ù„Ù†Ø¨Ø¶</span></h1>
                <p class="text-indigo-400/40 text-[10px] uppercase tracking-[0.4em] font-bold">EE Pulse v3.1 | Active Session</p>
            </div>

            <div class="glass-panel rounded-3xl p-8 mb-6 border-indigo-500/10 shadow-xl">
                <div class="flex flex-col md:flex-row gap-4">
                    <input type="number" id="academicIdInput" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠ..." 
                           class="flex-1 bg-black/20 border border-white/5 rounded-2xl px-6 py-4 outline-none focus:border-indigo-500 transition-all font-mono">
                    <button onclick="searchStudent()" class="accent-gradient px-10 py-4 rounded-2xl font-black text-white hover:scale-105 transition-all">ØªØ­Ù„ÙŠÙ„</button>
                </div>
            </div>

            <div id="studentCard" class="hidden"></div>
            <div id="emptyState" class="text-center py-20 opacity-20 italic">
                <i class="fa-solid fa-fingerprint text-6xl mb-4"></i>
                <p class="text-sm font-bold tracking-widest uppercase">Ø¨Ø§Ù†ØªØ¸Ø§Ø± Ù…Ø³Ø­ Ø§Ù„Ù‡ÙˆÙŠØ© Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ©</p>
            </div>
        </section>

        <section id="leaderboard" class="tab-content">
            <div class="text-center mb-10">
                <h2 class="text-2xl font-black italic text-brand italic">Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØªÙ…ÙŠØ²</h2>
                <p class="text-[10px] text-white/30 mt-1 uppercase tracking-widest">Ø§Ù„ØªØµÙ†ÙŠÙ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ù†Ù‚Ø§Ø· ÙˆØ§Ù„Ù…Ø³Ø§Ø±Ø§Øª</p>
            </div>
            <div id="topThree" class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-10 items-end"></div>
            <div class="glass-panel rounded-3xl overflow-hidden border-white/5 shadow-2xl" id="fullList"></div>
        </section>

        <section id="rules" class="tab-content">
            <h2 class="text-2xl font-black mb-8 italic">Ù…ÙŠØ«Ø§Ù‚ Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„Ù…ÙˆØ­Ø¯</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="glass-panel p-6 rounded-2xl border-r-4 border-blue-500">
                    <h3 class="font-bold text-blue-400 mb-4 text-sm">ğŸ”µ Ø§Ù„Ø­Ø¶ÙˆØ± (Participation)</h3>
                    <ul class="text-[11px] space-y-3 font-bold opacity-80">
                        <li class="flex justify-between"><span>ÙØ¹Ø§Ù„ÙŠØ© Ø¹Ø§Ù…Ø©</span><span>+1</span></li>
                        <li class="flex justify-between"><span>ÙˆØ±Ø´Ø© ØªØ®ØµØµÙŠØ©</span><span>+2</span></li>
                        <li class="flex justify-between"><span>Ø¯ÙˆØ±Ø© Ù…Ø¹ØªÙ…Ø¯Ø©</span><span>+2</span></li>
                    </ul>
                </div>
                <div class="glass-panel p-6 rounded-2xl border-r-4 border-indigo-500">
                    <h3 class="font-bold text-indigo-400 mb-4 text-sm">ğŸŸ£ Ø§Ù„ØªÙ†Ø¸ÙŠÙ… (Operational)</h3>
                    <ul class="text-[11px] space-y-3 font-bold opacity-80">
                        <li class="flex justify-between"><span>Ø¹Ø¶Ùˆ ÙØ±ÙŠÙ‚</span><span>+3</span></li>
                        <li class="flex justify-between"><span>Ù…Ø³Ø¤ÙˆÙ„ Ù…Ù‡Ù…Ø©</span><span>+4</span></li>
                        <li class="flex justify-between"><span>Ù‚ÙŠØ§Ø¯Ø© Ù„Ø¬Ù†Ø©</span><span>+5</span></li>
                    </ul>
                </div>
                <div class="glass-panel p-6 rounded-2xl border-r-4 border-purple-500">
                    <h3 class="font-bold text-purple-400 mb-4 text-sm">ğŸ”´ Ø§Ù„Ø£Ø«Ø± Ø§Ù„Ø¹Ù„Ù…ÙŠ (Impact)</h3>
                    <ul class="text-[11px] space-y-3 font-bold opacity-80">
                        <li class="flex justify-between"><span>Ù…Ù„Ø®Øµ Ù…Ø¹ØªÙ…Ø¯</span><span>+3</span></li>
                        <li class="flex justify-between"><span>Ø¨Ù†Ùƒ Ø£Ø³Ø¦Ù„Ø©</span><span>+4</span></li>
                        <li class="flex justify-between"><span>ÙˆØ±Ø´Ø© Ø¹Ù…Ù„</span><span>+7</span></li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="admin" class="tab-content">
            <h2 class="text-2xl font-black mb-8 text-red-500 italic">ADMIN INJECTION</h2>
            <div class="glass-panel p-8 rounded-3xl border-red-500/10">
                <div class="space-y-4">
                    <select id="adminIdSelect" class="w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 outline-none text-xs">
                        </select>
                    <div class="grid grid-cols-2 gap-4">
                        <select id="adminCat" class="bg-indigo-950/40 border border-white/10 rounded-xl px-4 py-3 outline-none text-xs font-bold">
                            <option value="Ø§Ù„Ø­Ø¶ÙˆØ±">ÙØ¦Ø©: Ø§Ù„Ø­Ø¶ÙˆØ±</option>
                            <option value="Ø§Ù„ØªÙ†Ø¸ÙŠÙ…">ÙØ¦Ø©: Ø§Ù„ØªÙ†Ø¸ÙŠÙ…</option>
                            <option value="Ø¹Ù„Ù…ÙŠ">ÙØ¦Ø©: Ø§Ù„Ø£Ø«Ø± Ø§Ù„Ø¹Ù„Ù…ÙŠ</option>
                        </select>
                        <input type="number" id="adminPoints" placeholder="Ø§Ù„Ù†Ù‚Ø§Ø·" class="bg-white/5 border border-white/10 rounded-xl px-4 py-3 outline-none font-bold">
                    </div>
                    <input type="text" id="adminAction" placeholder="Ø§Ù„ÙˆØµÙ (Ù…Ø«Ø§Ù„: ØªÙ†Ø¸ÙŠÙ… ÙˆØ±Ø´Ø© Ø§Ù„Ø±ÙˆØ¨ÙˆØª)" class="w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 outline-none text-xs">
                    <button onclick="addPointsAdmin()" class="w-full py-4 accent-gradient text-white font-black rounded-xl hover:brightness-110 shadow-lg transition-all text-xs uppercase tracking-widest">Inject Points</button>
                </div>
            </div>
        </section>
    </main>

    <script>
        // Ø¯Ù…Ø¬ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ø§Ù„Ù…Ø±ÙÙ‚Ø©
        let studentsData = [
            { id: "451401048", name: "Ù…Ø­Ù…Ø¯ Ø§Ù„Ø¹Ø±Ø¨ÙŠ (Ø±Ø¦ÙŠØ³ Ø§Ù„Ù„Ø¬Ù†Ø©)", email: "moaredu125@gmail.com", xp: 0, tracks: [], history: [] },
            { id: "451400496", name: "ÙØ§Ø±Ø³ Ø§Ù„Ø­Ø±Ø¨ÙŠ (Ø§Ù„Ù†Ø§Ø¦Ø¨)", email: "ffhh8500@gmail.com", xp: 0, tracks: [], history: [] },
            { id: "461400416", name: "ÙÙ‡Ø¯ Ù…Ø­Ù…Ø¯ Ø§Ù„Ø¬Ù‡Ù†ÙŠ", email: "Fahadmh.2200@icloud.com", xp: 0, tracks: [], history: [] },
            { id: "451401142", name: "Ø¹Ø¨Ø¯ Ø§Ù„Ù…Ø¬ÙŠØ¯ Ù…Ø­Ù…Ø¯ Ø§Ù„ØºÙØ§Ø±ÙŠ", email: "mjeed77788@gmail.com", xp: 0, tracks: [], history: [] },
            { id: "441400790", name: "Ù…Ø¹Ø§Ø° ØµØ§Ù„Ø­ Ø§Ù„Ù…ÙŠÙ…ÙˆÙ†ÙŠ", email: "yicmuath33@gmail.com", xp: 0, tracks: [], history: [] },
            { id: "461400847", name: "Ø§Ù†Ø³ Ù…Ø­Ù…Ø¯ Ø§Ù„ØºØ§Ù…Ø¯ÙŠ", email: "anashgr24@gmail.com", xp: 0, tracks: [], history: [] },
            { id: "451401196", name: "Ø¹Ø¨Ø¯ Ø§Ù„Ø±Ø­Ù…Ù† Ø§Ù„Ø³ÙŠØ¯", email: "anaxr16@gmail.com", xp: 0, tracks: [], history: [] }
        ];

        window.onload = () => {
            const select = document.getElementById('adminIdSelect');
            studentsData.forEach(s => {
                select.innerHTML += `<option value="${s.id}">${s.name} (${s.id})</option>`;
            });
        };

        function showTab(tabId) {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-btn').forEach(b => {
                b.classList.remove('active');
                b.classList.add('opacity-40');
            });
            document.getElementById(tabId).classList.add('active');
            const activeBtn = document.querySelector(`[data-tab="${tabId}"]`);
            activeBtn.classList.add('active');
            activeBtn.classList.remove('opacity-40');
            if(tabId === 'leaderboard') renderLeaderboard();
        }

        function searchStudent() {
            const id = document.getElementById('academicIdInput').value;
            const s = studentsData.find(x => x.id === id);
            const card = document.getElementById('studentCard');
            const empty = document.getElementById('emptyState');

            if(s) {
                empty.classList.add('hidden');
                card.classList.remove('hidden');
                const isEligible = s.tracks.length >= 2;
                
                card.innerHTML = `
                    <div class="glass-panel rounded-[2.5rem] p-10 border-indigo-500/20 shadow-2xl animate-fadeIn">
                        <div class="flex justify-between items-start mb-8">
                            <div>
                                <h3 class="text-2xl font-black mb-1">${s.name}</h3>
                                <p class="text-[10px] opacity-40 mb-4 font-mono">${s.email}</p>
                                <div class="flex flex-wrap gap-2 mb-4">
                                    ${s.tracks.length ? s.tracks.map(t => `<span class="track-tag">${t}</span>`).join('') : '<span class="text-[9px] opacity-30 italic">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø³Ø§Ø±Ø§Øª Ù…Ø³Ø¬Ù„Ø© Ø¨Ø¹Ø¯</span>'}
                                </div>
                                ${isEligible ? '<span class="text-[10px] text-green-400 font-bold italic">âœ… Ù…Ø¤Ù‡Ù„ Ù„Ù„ÙÙˆØ² Ø¨Ø§Ù„Ù…Ø±Ø§ÙƒØ² Ø§Ù„Ø£ÙˆÙ„Ù‰</span>' : '<span class="text-[10px] text-amber-400 font-bold italic">âš ï¸ ÙŠØ¬Ø¨ Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© ÙÙŠ Ù…Ø³Ø§Ø±ÙŠÙ† Ù„Ù„ÙÙˆØ² Ø¨Ø§Ù„Ù…Ø±Ø§ÙƒØ² Ø§Ù„Ø£ÙˆÙ„Ù‰</span>'}
                            </div>
                            <div class="text-left">
                                <span class="text-6xl font-black text-brand italic leading-none">${s.xp}</span>
                                <span class="block text-[10px] font-black opacity-30 tracking-widest uppercase mt-2">Points</span>
                            </div>
                        </div>
                        <div class="space-y-2 border-t border-white/5 pt-6">
                            <h4 class="text-[10px] font-black uppercase opacity-20 mb-4 tracking-widest italic">Ø§Ù„Ù†Ø´Ø§Ø·Ø§Øª Ø§Ù„Ø£Ø®ÙŠØ±Ø©</h4>
                            ${s.history.length ? s.history.map(h => `<div class="bg-white/[0.03] p-4 rounded-2xl text-[11px] font-bold border border-white/5 text-white/80">${h}</div>`).join('') : '<p class="text-xs opacity-20 italic">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¹Ù…Ù„ÙŠØ§Øª Ø­Ù‚Ù† Ù†Ù‚Ø§Ø· Ø­Ø§Ù„ÙŠØ§Ù‹.</p>'}
                        </div>
                    </div>
                `;
            } else { alert("Ø¹Ø°Ø±Ø§Ù‹ØŒ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯."); }
        }

        function renderLeaderboard() {
            const sorted = [...studentsData].sort((a,b) => b.xp - a.xp);
            const top3 = sorted.slice(0, 3);
            const others = sorted.slice(3);

            document.getElementById('topThree').innerHTML = top3.map((s, i) => `
                <div class="glass-panel p-8 rounded-[2.5rem] text-center relative ${i === 0 ? 'md:scale-110 border-indigo-500/40 order-2' : i === 1 ? 'order-1' : 'order-3'}">
                    <div class="w-10 h-10 bg-white/5 rounded-xl flex items-center justify-center mx-auto mb-4 font-black text-xs text-indigo-400 italic">#${i+1}</div>
                    <div class="mb-1 font-bold text-xs truncate px-2">${s.name}</div>
                    <div class="text-brand font-black text-2xl italic mb-3">${s.xp} XP</div>
                    <div class="flex justify-center">${s.tracks.length >= 2 ? '<i class="fa-solid fa-circle-check text-green-500 text-xs"></i>' : '<i class="fa-solid fa-triangle-exclamation text-amber-500 text-xs"></i>'}</div>
                </div>
            `).join('');

            document.getElementById('fullList').innerHTML = others.map((s, i) => `
                <div class="flex items-center justify-between p-6 border-b border-white/5 hover:bg-white/[0.02]">
                    <div class="flex items-center gap-4">
                        <span class="text-[10px] font-black opacity-10">#${i+4}</span>
                        <span class="font-bold text-sm truncate max-w-[150px]">${s.name}</span>
                    </div>
                    <span class="font-black text-sm text-indigo-400 italic">${s.xp} XP</span>
                </div>
            `).join('');
        }

        function addPointsAdmin() {
            const id = document.getElementById('adminIdSelect').value;
            const cat = document.getElementById('adminCat').value;
            const pts = parseInt(document.getElementById('adminPoints').value);
            const action = document.getElementById('adminAction').value;
            const s = studentsData.find(x => x.id === id);

            if(s && pts && action) {
                s.xp += pts;
                if(!s.tracks.includes(cat)) s.tracks.push(cat);
                s.history.unshift(`${action} (+${pts} - ${cat})`);
                alert(`ØªÙ… Ø¨Ù†Ø¬Ø§Ø­! Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ø­Ø§Ù„ÙŠ Ù„Ù€ ${s.name}: ${s.xp}`);
                document.getElementById('adminPoints').value = "";
                document.getElementById('adminAction').value = "";
            } else { alert("ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ØªØ¹Ø¨Ø¦Ø© ÙƒØ§ÙØ© Ø§Ù„Ø­Ù‚ÙˆÙ„."); }
        }
    </script>
</body>
</html>
